<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="u_user_ext2">
  <update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="com.people2000.user.model.po.ibatis.UserExtPO">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Wed Sep 21 11:06:00 CST 2016.
    -->
    update u_user_ext
    <dynamic prepend="set">
      <isNotNull prepend="," property="userId">
        user_id = #userId:BIGINT#
      </isNotNull>
      <isNotNull prepend="," property="extKey">
        ext_key = #extKey:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="extValue">
        ext_value = #extValue:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="showName">
        show_name = #showName:VARCHAR#
      </isNotNull>
    </dynamic>
    where id = #id:BIGINT#
  </update>

  <select id="selectUserExtList" parameterClass="com.people2000.user.model.dto.UserExtInDTO"
          resultClass="com.people2000.user.model.po.ibatis.UserExtPO">
    SELECT
      id as id, user_id as userId, ext_key as extKey, ext_value as extValue, show_name as showName
    FROM u_user_ext
    WHERE user_id = #userId#
      <isNotEmpty property="userExtKeys" prepend="and">
        ext_key IN
        <iterate property="userExtKeys" conjunction="," open="(" close=")">
          #userExtKeys[]#
        </iterate>
      </isNotEmpty>
  </select>
</sqlMap>