!function(t){angular.module("ngDatetimepicker",[]).directive("datetimepicker",["$filter",function(i){return{restrict:"A",require:"ngModel",scope:{close:"&",minDate:"=",maxDate:"=",options:"=",id:"@forId"},link:function(e,n,s,a){function d(t){return Math.abs(parseInt(t.css("height"),10))}function o(i,e,n){var s=d(t(i)),a=d(t(i).parent())-1;return e=e||Math.abs(parseInt(t(n).css("marginTop"),10)),t(i).css("margin-top",e=e>a-s?e-a:a-s),e}function c(i,e,n){var s=(d(t(i)),d(t(i).parent())-1);return e=e||Math.abs(parseInt(t(n).css("marginTop"),10)),t(i).css("margin-top",e=e>-s?0:e+s),e}function r(i){t(i+" .n1").on("click",function(){l=o(t(this).parents(".xdsoft_timepicker").find(".hour"),l,this)}),t(i+" .p1").on("click",function(){l=c(t(this).parents(".xdsoft_timepicker").find(".hour"),l,this)}),t(i+" .n2").on("click",function(){v=o(t(this).parents(".xdsoft_timepicker").find(".minute"),v,this)}),t(i+" .p2").on("click",function(){v=c(t(this).parents(".xdsoft_timepicker").find(".minute"),v,this)}),t(i+" .n3").on("click",function(){m=o(t(this).parents(".xdsoft_timepicker").find(".second"),m,this)}),t(i+" .p3").on("click",function(){m=c(t(this).parents(".xdsoft_timepicker").find(".second"),m,this)}),t(i+" .hour").off("click").on("click",function(i){$(i,/\s\d{2}:/," "+t(i.target).text()+":")}),t(i+" .minute").off("click").on("click",function(i){$(i,/:\d{2}:/,":"+t(i.target).text()+":")}),t(i+" .second").off("click").on("click",function(i){$(i,/:\d{2}$/,":"+t(i.target).text())})}if(a){for(var p=!1,f="#"+e.id,l=0,v=0,m=0,u=t("<div>").addClass("prev-btns title").append(t("<div class='xdsoft_prev'>h</div><div class='xdsoft_prev'>m</div><div class='xdsoft_prev'>s</div>")),x=t("<div>").addClass("prev-btns").append(t("<div class='xdsoft_prev p1'></div><div class='xdsoft_prev p2'></div><div class='xdsoft_prev p3'></div>")),_=t("<div>").addClass("next-btns").append(t("<div class='xdsoft_next n1'></div><div class='xdsoft_next n2'></div><div class='xdsoft_next n3'></div>")),h=t('<div class="xdsoft_time_box xdsoft_scroller_box"></div>'),k=t('<div class="xdsoft_time_variant hour"></div>').css({width:"18px","float":"left"}),g=t('<div class="xdsoft_time_variant minute"></div>').css({width:"18px","float":"left"}),D=t('<div class="xdsoft_time_variant second"></div>').css({width:"18px","float":"left"}),b=0;b<60;b++)b<24&&k.append('<div class="xdsoft_time">'+(b<10?"0"+b:b)+"</div>"),g.append('<div class="xdsoft_time">'+(b<10?"0"+b:b)+"</div>"),D.append('<div class="xdsoft_time">'+(b<10?"0"+b:b)+"</div>");h.append(k,g,D);var $=function(e,s,d){a.$modelValue||t(n).val(i("date")(new Date,"yyyy/MM/dd hh:mm:ss")),t(e.target).siblings().removeClass("xdsoft_current"),t(e.target).addClass("xdsoft_current"),t(n).val(t(n).val().replace(s,d)),t(n).change()},w=function(){e.minDate&&(e.options.minDate=e.minDate),e.maxDate&&(e.options.maxDate=e.maxDate),e.options.onGenerate=function(){p||(t(".xdsoft_datetimepicker:visible").attr("id",e.id),t(f+" .xdsoft_timepicker>*").remove(),t(f+" .xdsoft_timepicker").prepend(x).prepend(u).append(h).append(_),p=!0,r(f))},t.datetimepicker.setLocale(e.options.lang||void 0),t(n).datetimepicker(e.options)};t(n).on("change",function(){e.$apply(function(){a.$setViewValue(t(n).val())})}),t(n).on("click",w),e.$watch(a.$modelValue,function(t,i){t&&t!=i&&a.$setViewValue(t)}),e.$watch("minDate",function(){w()}),e.$watch("maxDate",function(){w()})}}}}])}(jQuery);